# Trim down dns queries
filter {

  # Drop AAAA records with no answers or errors
  if [query_type_name] == "AAAA" {
      if [answers] == "-" and [rcode_name] == "NOERROR" {
        drop {}
      }
  }

  # remove (sports|finance).yahoo.com     
  if [query] =~ "yahoo\.com$" or [query] =~ "yahoo\.com.*\.gocolumbiamo.com$"{
      drop { }
  }

  # remove api calls from yahoo
  if [query] =~ "yahooapis\.com$" or [query] =~ "yahooapis\.com.*\.gocolumbiamo.com$"{
      drop { }
  }
  # remove api calls to api.openweathermap.org     
  if [query] =~ "openweathermap\.org$" or [query] =~ "openweathermap\.org.*\.gocolumbiamo.com$" {
      drop { }
  }


}
