input {
  rabbitmq {
    user => "elk"
    password => "elkstackpoc"
    host => "log-broke1.core.gocolumbiamo.com"
    port => 5671
    ssl => true
    durable => true

    key => "WEF-Queue1"
    exchange => "WEF-Queue1"
    exchange_type => "direct"
    queue => "WEF-Queue1"
  }
}

output {
  if "windows" in [tags]{
    elasticsearch {
      hosts => ["https://elk1.core.gocolumbiamo.com:9200", "https://elk2.core.gocolumbiamo.com:9200", "https://elk3.core.gocolumbiamo.com:9200"]
      user => "admin"
      password => "admin"
      index => "lab-wef"
      cacert => "/etc/logstash/pki/chain.pem"
    }
  }
}
